webpackJsonp([109],{"71+n":function(n,e,t){var a=t("vR04");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("8bSs")("40d19beb",a,!0)},vR04:function(n,e,t){e=n.exports=t("l95E")(!1),e.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},zT9g:function(n,e,t){"use strict";function a(n){t("71+n")}Object.defineProperty(e,"__esModule",{value:!0});var s=t("lcoF"),o=t("5HJ5"),i=t("2sCs"),c=t.n(i),r={mixins:[o.a,s.a],data:function(){return{params:{status:"",formId:"",pageNo:"",pageSize:""},keys:""}},methods:{getTableData:function(n,e){var t=this;this.loading=!0,this.state=!1,c.a.post(n,e).then(function(n){t.loading=!1,"200"==n.code?(void 0!=n.totalCount&&(t.total=n.totalCount),t.tableData=n.body,t.state=!0,t.keys=n.keys):(t.tableData=[],t.state=!0)}).catch(function(n){t.loading=!1,t.state=!1})},query:function(){this.getTableData(this.$api.customRecordPage,this.params)},deleteBatch:function(n,e){var t=this;this.$confirm("是否确定删除？","警告",{type:"error"}).then(function(a){t.$http.post(n,{ids:e}).then(function(n){"200"==n.code&&(t.successMessage("删除成功"),t.getTableData(t.$api.customRecordPage,t.params))})}).catch(function(n){})},getPages:function(n,e){this.params.pageNo=n,this.params.pageSize=e,this.getTableData(this.$api.customRecordPage,this.params)},batch:function(n){var e=this;this.loading=!0,c.a.post(n,{ids:this.ids}).then(function(n){e.loading=!1,"200"==n.code&&(e.successMessage("操作成功"),e.getTableData(e.$api.customRecordPage,e.params))}).catch(function(n){e.loading=!1})}},created:function(){this.params.formId=this.id,this.getTableData(this.$api.customRecordPage,this.params)}},l=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("section",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticClass:"cms-body"},[t("cms-back"),n._v(" "),t("div",{staticClass:"cms-list-header"},[t("label",{staticClass:"cms-label"},[n._v("查询状态:")]),n._v(" "),t("el-select",{on:{change:n.query},model:{value:n.params.status,callback:function(e){n.$set(n.params,"status",e)},expression:"params.status"}},[t("el-option",{attrs:{label:"所有",value:""}}),n._v(" "),t("el-option",{attrs:{label:"未审核",value:"0"}}),n._v(" "),t("el-option",{attrs:{label:"审核中",value:"1"}}),n._v(" "),t("el-option",{attrs:{label:"已终核",value:"2"}})],1)],1),n._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:n.tableData,stripe:""},on:{"selection-change":n.checkIds}},[t("el-table-column",{attrs:{type:"selection",width:"65",align:"right"}}),n._v(" "),t("el-table-column",{attrs:{prop:"id",label:"ID",width:"50",align:"center"}}),n._v(" "),n._l(n.keys,function(e,a){return t("el-table-column",{key:a,attrs:{label:a,align:"center"},scopedSlots:n._u([{key:"default",fn:function(a){return t("div",{},[t("span",[n._v("\n                   "+n._s(a.row[e])+"                        \n               ")])])}}])})}),n._v(" "),t("el-table-column",{attrs:{prop:"status",label:"提交状态",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return t("div",{},[0==e.row.status?t("span",[n._v("\n                       未审核                        \n                   ")]):n._e(),n._v(" "),1==e.row.status?t("span",[n._v("\n                       审核中                       \n                   ")]):n._e(),n._v(" "),2==e.row.status?t("span",[n._v("\n                       已终核                        \n                   ")]):n._e()])}}])}),n._v(" "),t("el-table-column",{attrs:{prop:"createTime",label:"提交时间",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return t("div",{},[n._v("\n                   "+n._s(e.row.createTime.split(".")[0])+"\n            ")])}}])}),n._v(" "),t("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return t("div",{},[t("cms-button",{directives:[{name:"perms",rawName:"v-perms",value:"/customForm/record/view",expression:"'/customForm/record/view'"}],attrs:{type:"view",title:"记录详情"},nativeOn:{click:function(t){n.routerLink("/customForm/record/view","view",e.row.id)}}}),n._v(" "),t("cms-button",{directives:[{name:"perms",rawName:"v-perms",value:"/customForm/record/delete",expression:"'/customForm/record/delete'"}],attrs:{type:"delete"},nativeOn:{click:function(t){n.deleteBatch(n.$api.customRecordDelete,e.row.id)}}})],1)}}])})],2),n._v(" "),t("div",{staticClass:"cms-list-footer"},[t("div",{staticClass:"cms-left"},[t("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/customForm/record/delete",expression:"'/customForm/record/delete'"}],attrs:{disabled:n.disabled},on:{click:function(e){n.deleteBatch(n.$api.customRecordDelete,n.ids)}}},[n._v("批量删除")]),n._v(" "),t("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/customForm/record/check",expression:"'/customForm/record/check'"}],attrs:{disabled:n.disabled},on:{click:function(e){n.batch(n.$api.customRecordCheck)}}},[n._v("审核")])],1),n._v(" "),t("cms-pagination",{attrs:{total:n.total},on:{change:n.getPages}})],1)],1)},u=[],d={render:l,staticRenderFns:u},m=d,p=t("8AGX"),v=a,h=p(r,m,!1,v,null,null);e.default=h.exports}});