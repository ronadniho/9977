webpackJsonp([135],{"0un7":function(t,e,a){e=t.exports=a("l95E")(!1),e.push([t.i,"",""])},O4Z9:function(t,e,a){"use strict";function o(t){a("pX/S")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("lcoF"),s=(a("QmSG"),a("2sCs")),i=a.n(s),c=(a("x1ym"),{mixins:[n.a],data:function(){return{dateInfo:{},baseUrl:"",formId:0,fields:[],params:{}}},methods:{getDataInfo:function(t){var e=this,a=this.$api;i.a.all([i.a.post(a.customRecordGet,{id:t})]).then(i.a.spread(function(t){e.dataInfo=t.body,e.formId=e.dataInfo.formId,console.log(e.formId),i.a.post(a.customFiledList,{formId:e.dataInfo.formId}).then(function(t){e.fields=t.body,e.loading=!1}).catch(function(t){e.loading=!1})})).catch(function(t){e.loading=!1})},down:function(t){location.href=this.baseUrl+t},del:function(){var t=this;this.$confirm("是否确定删除？","警告",{type:"error"}).then(function(e){t.$http.post(t.$api.customRecordDelete,{ids:t.id}).then(function(e){"200"==e.code&&(t.successMessage("删除成功"),setTimeout(function(){t.routerLink("list","",t.formId)},1e3))})}).catch(function(t){})},check:function(){var t=this;this.loading=!0,i.a.post(this.$api.customRecordCheck,{ids:this.id}).then(function(e){t.loading=!1,"200"==e.code&&(t.successMessage("操作成功"),t.getTableData(t.$api.customRecordPage,t.params))}).catch(function(e){t.loading=!1})}},created:function(){this.baseUrl=this.$getUrl(),this.getDataInfo(this.id)}}),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"cms-body"},[a("cms-back"),t._v(" "),a("el-form",{ref:"form",staticClass:"cms-form",attrs:{"label-width":"162px"}},[t._l(t.fields,function(e,o){return a("el-form-item",{key:o,staticClass:"flex-100 ",attrs:{label:e.label}},[9==e.dataType?a("span",[a("a",{on:{click:function(a){t.down(t.dataInfo["attr_"+e.field])}}},[t._v("下载")])]):t._e(),t._v(" "),10==e.dataType?a("span",[a("img",{attrs:{width:"100px",height:"100px",src:t.baseUrl+t.dataInfo["attr_"+e.field]}})]):t._e(),t._v(" "),10!=e.dataType&&9!=e.dataType?a("span",[t._v(t._s(t.dataInfo["attr_"+e.field])+" ")]):t._e()])}),t._v(" "),a("div",{staticClass:"form-footer"},[a("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/customForm/record/delete",expression:"'/customForm/record/delete'"}],attrs:{type:"warning"},on:{click:function(e){t.del()}}},[t._v("\n            删除\n            ")]),t._v(" "),a("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/customForm/record/check",expression:"'/customForm/record/check'"}],attrs:{type:"primary"},on:{click:function(e){t.check()}}},[t._v("\n            审核\n            ")])],1)],2)],1)},d=[],l={render:r,staticRenderFns:d},f=l,u=a("8AGX"),m=o,p=u(c,f,!1,m,"data-v-18662a79",null);e.default=p.exports},"pX/S":function(t,e,a){var o=a("0un7");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("8bSs")("62d95bb6",o,!0)}});