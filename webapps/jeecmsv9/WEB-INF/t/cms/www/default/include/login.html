
<div id="gray" data-genuitec-lp-enabled="false" data-genuitec-file-id="wc1-84" data-genuitec-path="/jeecmsv9/src/main/webapp/WEB-INF/t/cms/www/default/include/login.html"></div>
<div class="popup" id="popup">
  <div class="top_nav clearfix" id='top_nav'>
    <span>ç”¨æˆ·ç™»å½•</span><a class="guanbi"></a>
  </div>
  <form id="jvForm" action="${base}/login.jspx" method="post">
  <div class="login-box">
    <div class="register"><a href="${base}/register.jspx">æ–°ç”¨æˆ·æ³¨å†?</a></div>
      <div class="username-con"><i></i><input id="username" name="username" class="login-input" type="text" placeholder="ç”¨æˆ·å?"></div>
      <div class="password-con"><i></i><input id="password" name="password" class="password-input" type="password" placeholder="å¯†ç "></div>
    <div class="login-rem clearfix">
      <div class="next-day"><input type="checkbox" class="login-checkbox">ä¸‹æ¬¡è‡ªåŠ¨ç™»å½•</div>
      <a>å¿˜è®°å¯†ç </a>
    </div>
    <input type="submit" class="login-btn" value="ç™? å½?">
  </div>
  <div class="quick">
    <p>ä¸?é”®ç™»å½?</p>
    <div class="quick-list">
      
      <a class="quick-qq" id="qqLoginBtn" title="ç”¨QQè´¦å·ç™»å½•"></a>
      <script type="text/javascript" src="http://qzonestyle.gtimg.cn/qzone/openapi/qc_loader.js" data-appid="${site.config.qqID!}" data-redirecturi="http://${site.domain}/public_auth.jspx" charset="utf-8"></script>
					<script type="text/javascript">
						//æ’å…¥æŒ‰é’®çš„èŠ‚ç‚¹qqLoginBtn id
					    QC.Login({btnId:"qqLoginBtn",size: "A_M"}, function(reqData, opts){//ç™»å½•æˆåŠŸ
					       //æ ¹æ®è¿”å›æ•°æ®ï¼Œæ›´æ¢æŒ‰é’®æ˜¾ç¤ºçŠ¶æ€æ–¹æ³?
					       var dom = document.getElementById(opts['btnId']),
					       _logoutTemplate=[
					            //å¤´åƒ
					         //   '<span><img src="{figureurl}" class="{size_key}"/></span>',
					            //æ˜µç§°
					            '<span>{nickname}</span>',
					            //é€?å‡?
					            '<span><a href="javascript:QC.Login.signOut();">é€?å‡?</a></span>'    
					       ].join("");
					       dom && (dom.innerHTML = QC.String.format(_logoutTemplate, {
					           nickname : QC.String.escHTML(reqData.nickname), //åšxssè¿‡æ»¤
					           figureurl : reqData.figureurl
					       }));
					       var userId=null;
                           [#if user??]
                           userId="${user.id}";
                           [/#if]
                           if(QC.Login.check()&&userId==null){
                                     QC.Login.signOut();          
                           }
					   });
					 </script>
     
      <a class="quick-tx" id="qqwebo_login_btn" title="ç”¨è…¾è®¯å¾®åšè´¦å·ç™»å½?"></a>
      <script type="text/javascript" src="http://mat1.gtimg.com/app/openjs/openjs.js"></script>
                    	<script type="text/javascript">
                    		T.init({
                    		    appkey: ${site.config.qqWeboID!}, 
                    		    autoclose:false,
                    		    callbackurl:"http://${site.domain}/public_auth.jspx"
                    		});
                    		 function logout(){
                                 T.logout(function (loginStatus) { // ç™»å‡ºç”¨æˆ·
			    					// ç™»å½•æˆåŠŸ
								});
                			}
                    		$(function() {
                        		$("#qqwebo_login_btn").click(function(){
                        			T.login(function (loginStatus) { // å¼¹å‡ºç™»å½•çª—å£
       							     // æœ¬æ¬¡ç™»å½•æˆåŠŸ
       							       $.cookie("qqWeboId",loginStatus.openid);
       							 	},function (error) {
       							 	});
                            	});
                    		});
						</script>
	
      
      <a class="quick-sina" id="wb_connect_btn" title="ç”¨æ–°æµªå¾®åšè´¦å·ç™»å½?"></a>
      <script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js?appkey=${site.config.sinaID!}" type="text/javascript" charset="utf-8"></script>
						<script type="text/javascript">
						 WB2.anyWhere(function(W){
						 W.widget.connectButton({
						  id: "wb_connect_btn",
						  type: '3,2',
						  callback : {
						   login:function(o){
						    //ç™»å½•æˆåŠŸä¹‹åæ‰§è¡Œ
						    location="${base}/public_auth.jspx";
						   },
						   logout:function(){
						    //é€?å‡ºä¹‹åæ‰§è¡Œé??å‡ºæœ¬åœ°ç”¨æˆ?
      						location="${base}/logout.jspx?returnUrl=/";
						   }
						  }
						 });
						});
						</script>
      
    </div>
  </div>
  </form>	
</div>
<script type="text/javascript">
//çª—å£æ•ˆæœ
//ç‚¹å‡»ç™»å½•classä¸ºtc æ˜¾ç¤º
$(".tc").click(function(){
	$("#gray").show();
	$("#popup").show();//æŸ¥æ‰¾IDä¸ºpopupçš„DIV show()æ˜¾ç¤º#gray
	tc_center();
});
//ç‚¹å‡»å…³é—­æŒ‰é’®
$("a.guanbi").click(function(){
	$("#gray").hide();
	$("#popup").hide();//æŸ¥æ‰¾IDä¸ºpopupçš„DIV hide()éšè—
})

//çª—å£æ°´å¹³å±…ä¸­
$(window).resize(function(){
	tc_center();
});

function tc_center(){
	var _top=($(window).height()-$(".popup").height())/2;
	var _left=($(window).width()-$(".popup").width())/2;
	
	$(".popup").css({top:_top,left:_left});
}	
</script>

<script type="text/javascript">
$(document).ready(function(){ 

	$(".top_nav").mousedown(function(e){ 
		$(this).css("cursor","move");//æ”¹å˜é¼ æ ‡æŒ‡é’ˆçš„å½¢çŠ? 
		var offset = $(this).offset();//DIVåœ¨é¡µé¢çš„ä½ç½® 
		var x = e.pageX - offset.left;//è·å¾—é¼ æ ‡æŒ‡é’ˆç¦»DIVå…ƒç´ å·¦è¾¹ç•Œçš„è·ç¦» 
		var y = e.pageY - offset.top;//è·å¾—é¼ æ ‡æŒ‡é’ˆç¦»DIVå…ƒç´ ä¸Šè¾¹ç•Œçš„è·ç¦» 
		$(document).bind("mousemove",function(ev){ //ç»‘å®šé¼ æ ‡çš„ç§»åŠ¨äº‹ä»¶ï¼Œå› ä¸ºå…‰æ ‡åœ¨DIVå…ƒç´ å¤–é¢ä¹Ÿè¦æœ‰æ•ˆæœï¼Œæ‰?ä»¥è¦ç”¨doucmentçš„äº‹ä»¶ï¼Œè€Œä¸ç”¨DIVå…ƒç´ çš„äº‹ä»? 
		
			$(".popup").stop();//åŠ ä¸Šè¿™ä¸ªä¹‹å 
			
			var _x = ev.pageX - x;//è·å¾—Xè½´æ–¹å‘ç§»åŠ¨çš„å€? 
			var _y = ev.pageY - y;//è·å¾—Yè½´æ–¹å‘ç§»åŠ¨çš„å€? 
		
			$(".popup").animate({left:_x+"px",top:_y+"px"},10); 
		}); 

	}); 

	$(document).mouseup(function() { 
		$(".popup").css("cursor","default"); 
		$(this).unbind("mousemove"); 
	});
}) 
</script>